<!doctype html>
<meta charset="utf-8" />
<title>Redirectingâ€¦</title>
<script>
(async () => {
  // Normalize paths so /x and /x/ both work
  const slug = location.pathname.replace(/^\/+|\/+$/g, "");
  // Fetch the static map generated by your workflow
  const res = await fetch("/map.json", { cache: "no-store" });
  const map = await res.json().catch(() => ({}));
  const dest = map[slug] || map["/" + slug];
  if (dest) {
    // Avoid adding an entry to history
    location.replace(dest);
  } else {
    // Optional: send users to a catalog page or your homepage
    location.replace("/");
  }
})();
</script>
